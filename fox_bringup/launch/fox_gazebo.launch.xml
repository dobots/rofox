<?xml version="1.0"?>
<launch>

  <!-- Arguments      -->
  <arg name="robot_name" default="fox_cart"/>
  <arg name="world_name" default="$(find-pkg-share fox_gazebo)/worlds/arena_2018.world"/>
  <arg name="empty_world" default="false"/>
  <arg name="x" default="0.0"/>
  <arg name="y" default="0.0"/>
  <arg name="z" default="0.2"/>
  <arg name="roll" default="0.0"/>
  <arg name="pitch" default="0.0"/>
  <arg name="yaw" default="3.14"/>

  <arg name="rviz" default="false"/>
  <arg name="rviz_cfg_path" default="$(find-pkg-share fox_bringup)/rviz/fox.rviz"/>

  <!-- Show in Rviz (Optional) -->
  <node if="$(var rviz)" name="rviz2_fox" pkg="rviz2" exec="rviz2" args="-d $(var rviz_cfg_path)" required="false" output="screen"/>

  <!-- Start Gazebo   -->
  <include file="$(find-pkg-share fox_gazebo)/launch/gazebo.launch.xml">
     <arg name="world_name" value="$(var world_name)"/>
     <arg name="empty_world" value="$(var empty_world)"/>
  </include>

  <!-- Spawn fox_bot -->
  <include file="$(find-pkg-share fox_gazebo)/launch/spawn_fox.launch.xml">
    <arg name="robot_name" value="$(var robot_name)"/>    
    <arg name="x" value="$(var x)"/>
    <arg name="y" value="$(var y)"/>
    <arg name="z" value="$(var z)"/>
    <arg name="roll" value="$(var roll)"/>
    <arg name="pitch" value="$(var pitch)"/>
    <arg name="yaw" value="$(var yaw)"/>
  </include>

</launch>
